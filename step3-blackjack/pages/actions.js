// the original function here is now in the rule.js